<html>
    <head>
        <title>Tic Tac Toe</title>
        <link rel='icon' href='https://cdn3.iconfinder.com/data/icons/glyph/227/Tic-tac-toe-512.png'>
        <link href="https://fonts.googleapis.com/css2?family=Major+Mono+Display&family=Dosis&family=Varela+Round&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
        <meta name="theme-color" content="" >
        <meta http-equiv="author" content="AC DEVELOPER" />
        <meta name="description" content="tic-tac-toe game to play with friends!" />
        <meta name="keywords" content="tic-tac-toe,game,duo-game" />
        <style>
            *{
                outline: none;
                user-select: none;
                -webkit-tap-highlight-color: transparent;
                box-sizing: border-box;
            }
            :root{
                --cs:#000 ;
            }
            
            body{
                margin: 0px;
                background-color: var(--cs);
            }
            #wrapper{
                position: absolute;
                width:400px;
                height:550px;
                top:50%;
                left:50%;
                margin-left: -200px;
                margin-top: -275px;
                font-family: 'ABeeZee';
                cursor: default;
                background: rgba(255,255,255,0.1);
                backdrop-filter: saturate(100%) blur(100px);
                overflow: hidden;
                border-radius: 0px;
                box-shadow: 0px 2px 10px rgba(0,0,0,0.2);
            }
            #title{
                position: absolute;
                width: 100%;
                font-size: 50px;
                font-weight: bold;
                font-family: 'Dosis', sans-serif;
                text-align: center;
                margin: 40px 0px;
                letter-spacing: 3px;
                color: rgba(0,0,0,0.8);
            }
            #turn{
                position: absolute;
                bottom:0px;
                width: 100%;
                height:30px;
                margin:40px 0px;
                font-weight: bold;
                font-size: 25px;
                text-align: center;
                background-color: none;
                color: rgba(0,0,0,0.8);
                z-index: 10;
                font-family:'Dosis', sans-serif;
            }
            #main-box{
                position: absolute;
                width:300px;
                height:300px;
                top:50%;
                left:50%;
                margin-left: -150px;
                margin-top: -140px;
            }
            #cover{
                position: absolute;
                width:300px;
                height:300px;
                top:50%;
                left:50%;
                margin-left: -150px;
                margin-top: -150px;
                z-index: 1;
                background-color: transparent;
                cursor: not-allowed;
                display:none;
            }
            #retry{
                position: absolute;
                width: 200px;
                height: 200px;
                top:50%;
                left:50%;
                margin-left: -100px;
                margin-top: -100px;
                background: var(--cs);
                background-blend-mode: lighten;
                box-shadow: 0px 0px 5px rgba(0,0,0,0.3);
                color:rgba(0,0,0,0.8);
                cursor: pointer;
                text-align: center;
                border-radius: 50%;
                display: none;
                animation-duration: 0.5s;
                animation-timing-function: ease-in-out;
                z-index: 5;
            }
            #retry i{
                position: absolute;
                top:50%;
                left:50%;
                margin-left: -30px;
                margin-top: -30px;
                font-size: 60px;
                padding: 0px 5px;
                border-radius: 50%;
                animation-duration:0.5s;
                animation-timing-function: ease-in-out;
            }
            .x{
               box-sizing: border-box;
                color:inherit;
                width:100px;
                height:100px;
                float:left;
                border:3px solid rgba(0,0,0,0.8);
                cursor:pointer;
            }
            .ox{
                font-size: 85px;
                font-family: 'Varela Round', sans-serif;
                font-weight: bold;
                text-align: center;
                box-sizing: border-box;
                width:100%;
                height:100%;
                color:rgba(0,0,0,0.9);
                animation-duration: 0.2s;
                animation-timing-function: ease-in-out;
            }
            @keyframes boing{
                50%{
                    transform: scale(0.5);
                }
                75%{
                    transform: scale(1.2);
                }
                100%{
                    transform: scale(1);
                }
            }
            @keyframes gniob{
                50%{
                    transform: scale(0.9);
                }
                75%{
                    transform: scale(1);
                }
            }
            @keyframes rotate{
                to{
                    transform: rotate(360deg);
                }
            }
            .tb{
               border-top:0px; 
            }
            .db{
               border-bottom:0px; 
            }
            .lb{
               border-left:0px; 
            }
            .rb{
               border-right:0px; 
            }
            
            .bar {
              display: block;
              z-index: 5;
              position:fixed;
              top:0px;
              left: 0px;
              width:100%;
              height:5px;
              background-color:transparent;
              overflow:hidden;
              transition:background 0.5s;
            }
            .bar div:before {
              content:"";
              position:absolute;
              top:0px;
              left:0px;
              bottom:0px;
              background:var(--cs);
              animation:box-1 2100ms cubic-bezier(0.65,0.81,0.73,0.4) infinite;
            }
            .bar div:after {
              content:"";
              position:absolute;
              top:0px;
              left:0px;
              bottom:0px;
              background:var(--cs);
              animation:box-2 2100ms cubic-bezier(0.16,0.84,0.44,1) infinite;
              animation-delay:1150ms;
            }
            @keyframes box-1 {
              0% {
                left:-35%;
                right:100%;
              }
              60%,100% {
                left:100%;
                right:-90%;
              }
            }
            @keyframes box-2 {
              0% {
                left:-200%;
                right:100%;
              }
              60%,100% {
                left:107%;
                right:-8%;
              }
            }
            
        /*::::::::::::mobile:::::::::::*/
            
        @media only screen  and (max-width: 600px){
            #wrapper{
                position: fixed;
                width:100%;
                height:100%;
                top:0;
                left:0;
                margin-left: 0px;
                margin-top: 0px;
            }
            .x{
                border:2px solid rgba(0,0,0,0.8);
            }
            .tb{
               border-top:0px; 
            }
            .db{
               border-bottom:0px; 
            }
            .lb{
               border-left:0px; 
            }
            .rb{
               border-right:0px; 
            }
            #title{
                font-size: 50px;
            }
            #turn{
                font-size: 25px;
            }
            .bar div:before {
              background:rgba(255,255,255,0.1);
            }
            .bar div:after {
              background:rgba(255,255,255,0.1);
            }
        }
   
        </style>
    </head>
    <body onload='color();checkLine();preload()' >
        <audio src="https://docs.google.com/uc?export=download&id=1rIUKvkhYMRgT7akWIedtNJCJZeW6xnhl" id='oxpop' preload="none" onloadeddata="loader()"></audio>
        <audio src="https://docs.google.com/uc?export=download&id=1tNZ-fY7d0YOasqqvCZrMFlztuoyh6ucf" id='retrypop' preload="none" onloadeddata="loader()"></audio>
        <div id='wrapper' >
            <div class="bar" id="loader">
              <div></div>
            </div>
            <div id='title' >tic tac toe</div>
            
            <div id='main-box' >
                <div  class='x tb lb'><div id='x0y0' class='ox' onclick='check(this)'></div></div>
                <div  class='x tb' ><div id='x0y1' class='ox' onclick='check(this)'></div></div>
                <div  class='x tb rb' ><div id='x0y2' class='ox' onclick='check(this)'></div></div>
                <div  class='x lb' ><div id='x1y0' class='ox' onclick='check(this)'></div></div>
                <div  class='x ' ><div id='x1y1' class='ox' onclick='check(this)'></div></div>
                <div  class='x rb' ><div id='x1y2' class='ox' onclick='check(this)'></div></div>
                <div  class='x lb db' ><div id='x2y0' class='ox' onclick='check(this)'></div></div>
                <div  class='x db' ><div id='x2y1' class='ox' onclick='check(this)'></div></div>
                <div  class='x db rb' ><div id='x2y2' class='ox' onclick='check(this)'></div></div>
                
            </div>
            <div id='cover'></div>
            <div id='retry' onclick="fxretry();setTimeout('window.location.reload()',500);this.style.animationName='gniob';document.getElementsByClassName('fa')[0].style.animationName='rotate';" ><i class="fa fa-repeat" ></i></div>
            <div id='turn'>make a move</div>
        </div>
        <script>
            function checkLine(){
                if (! navigator.onLine){
                    document.getElementById('loader').style.display='none';
                } 
            }
            
            function loader(){
                document.getElementById('loader').style.display='none';
            }
            
            function coverIt(){
                var cover=document.getElementById('cover');
                var retry=document.getElementById('retry');
                cover.style.display='block';
                fxretry();
                retry.style.display='block';
                retry.style.animationName='boing';
            }
            
            function color(){
                colorList=[
                '#E53935',
                '#3949AB',
                '#039BE5',
                '#43A047',
                '#FFB300',
                '#FB8C00',
                ]
                var i=Math.floor(Math.random()*colorList.length);
                var root=document.documentElement;
                var mt2=document.getElementsByTagName('meta')[1];
                root.style.setProperty('--cs', colorList[i]);
                mt2.content=colorList[i];
            }
            
            /****************SOUND EFFFECTS******************/
            var checkSoundOn=true;
            
            function preload(){
                document.getElementById('oxpop').load();
                document.getElementById('retrypop').load();
            }
            
            function fxpop(){
                if (checkSoundOn){
                document.getElementById('oxpop').play();
                }
            }
            function fxretry(){
                if (checkSoundOn){
                document.getElementById('retrypop').play();
                }
            }
            /************************************************/
            
            var gameState=true;
            var clicks=0;
            var max=9;
            var turn=document.getElementById('turn');
            
            var ttt=[[null,null,null],
                     [null,null,null],
                     [null,null,null]];
            
            function check(event){
                fxpop();
                event.style.animationName='boing';
                event.style.cursor='not-allowed';
                event.removeAttribute('onclick');
                index=event.id;
                x=parseInt(index[1]);
                y=parseInt(index[3]);
                
                if (clicks%2==0){
                    if(event.innerHTML==''){
                        event.innerHTML='O';
                        ttt[x][y]=0;
                        turn.innerHTML="thinking";
                    }
                }
                else{
                    if(event.innerHTML==''){
                        event.innerHTML='X';
                        ttt[x][y]=1;
                        turn.innerHTML="make a move";
                    }
                    
                }
                clicks=clicks+1;

                for (i=0;i<3;i++){
                    if (ttt[i][0]==0 && ttt[i][1]==0 && ttt[i][2]==0){
                        turn.innerHTML="'O' Won !";
                        gameState=false;
                        break;
                            }
                    else if(ttt[i][0]==1 && ttt[i][1]==1 && ttt[i][2]==1){
                        turn.innerHTML="'X' Won !";
                        gameState=false;
                        break;
                    }
                    else if(ttt[0][i]==0 && ttt[1][i]==0 && ttt[2][i]==0){
                        turn.innerHTML="'O' Won !";
                        gameState=false;
                        break;
                    }
                    else if(ttt[0][i]==1 && ttt[1][i]==1 && ttt[2][i]==1){
                        turn.innerHTML="'X' Won !";
                        gameState=false;
                        break;
                    }
                }
                    
                if(ttt[0][0]==1 && ttt[1][1]==1 && ttt[2][2]==1){
                    turn.innerHTML="'X' Won !";
                    gameState=false;

                }
                else if(ttt[0][0]==0 && ttt[1][1]==0 && ttt[2][2]==0){
                    turn.innerHTML="'O' Won !";
                    gameState=false;

                }
                else if(ttt[0][2]==1 && ttt[1][1]==1 && ttt[2][0]==1){
                    turn.innerHTML="'X' Won !";
                    gameState=false;

                }
                else if(ttt[0][2]==0 && ttt[1][1]==0 && ttt[2][0]==0){
                    turn.innerHTML="'O' Won !";
                    gameState=false;
                }
                if (gameState && clicks == max){
                    turn.innerHTML='Drawn !';
                    gameState=false;
                }
                
                if (gameState && clicks%2 != 0){
                    automateClick();
                }
                
                if(!gameState){
                    coverIt();
                }
            }
            
            /******************thinking*****************/
            
            function randomClick(){
                var spaces=[];
                for(m=0;m<3;m++){
                        for(n=0;n<3;n++){
                            if (ttt[m][n] != 0 && ttt[m][n] != 1) {
                                spaces.push('x'+m.toString()+'y'+n.toString());
                            }
                        }
                    }
                index=Math.floor(Math.random()*spaces.length);
                id=spaces[index];
                return id;
            }
            
            function automateClick(){
                
                function cutCheck(ox,rm,random=true){
                    if (ttt[0][0]==ox && ttt[0][1]==ox && ttt[0][2] != rm){
                        id='x0y2';
                    }else if (ttt[0][0]==ox && ttt[0][2]==ox && ttt[0][1] != rm){
                        id='x0y1';
                    }else if (ttt[0][1]==ox && ttt[0][2]==ox && ttt[0][0] != rm){
                        id='x0y0';
                    }else if (ttt[1][0]==ox && ttt[1][1]==ox && ttt[1][2] != rm){
                        id='x1y2';
                    }else if (ttt[1][0]==ox && ttt[1][2]==ox && ttt[1][1] != rm){
                        id='x1y1';
                    }else if (ttt[1][1]==ox && ttt[1][2]==ox && ttt[1][0] != rm){
                        id='x1y0';
                    }else if (ttt[2][0]==ox && ttt[2][1]==ox && ttt[2][2] != rm){
                        id='x2y2';
                    }else if (ttt[2][0]==ox && ttt[2][2]==ox && ttt[2][1] != rm){
                        id='x2y1';
                    }else if (ttt[2][1]==ox && ttt[2][2]==ox && ttt[2][0] != rm){
                        id='x2y0';
                    }else if (ttt[0][0]==ox && ttt[1][0]==ox && ttt[2][0] != rm){
                        id='x2y0';
                    }else if (ttt[0][0]==ox && ttt[2][0]==ox && ttt[1][0] != rm){
                        id='x1y0';
                    }else if (ttt[1][0]==ox && ttt[2][0]==ox && ttt[0][0] != rm){
                        id='x0y0';
                    }else if (ttt[0][1]==ox && ttt[1][1]==ox && ttt[2][1] != rm){
                        id='x2y1';
                    }else if (ttt[0][1]==ox && ttt[2][1]==ox && ttt[1][1] != rm){
                        id='x1y1';
                    }else if (ttt[1][1]==ox && ttt[2][1]==ox && ttt[0][1] != rm){
                        id='x0y1';
                    }else if (ttt[0][2]==ox && ttt[1][2]==ox && ttt[2][2] != rm){
                        id='x2y2';
                    }else if (ttt[0][2]==ox && ttt[2][2]==ox && ttt[1][2] != rm){
                        id='x1y2';
                    }else if (ttt[1][2]==ox && ttt[2][2]==ox && ttt[0][2] != rm){
                        id='x0y2';
                    }else if (ttt[0][0]==ox && ttt[1][1]==ox && ttt[2][2] != rm){
                        id='x2y2';
                    }else if (ttt[0][0]==ox && ttt[2][2]==ox && ttt[1][1] != rm){
                        id='x1y1';
                    }else if (ttt[1][1]==ox && ttt[2][2]==ox && ttt[0][0] != rm){
                        id='x0y0';
                    }else if (ttt[0][2]==ox && ttt[1][1]==ox && ttt[2][0] != rm){
                        id='x2y0';
                    }else if (ttt[2][0]==ox && ttt[0][2]==ox && ttt[1][1] != rm){
                        id='x1y1';
                    }else if (ttt[2][0]==ox && ttt[1][1]==ox && ttt[0][2] != rm){
                        id='x0y2';
                    }else if(random){
                        id=randomClick();
                    }else{
                        id='';
                    }
                    return id;
                }
                
                var id='';
                if(clicks == 1){
                    id=randomClick();
                }
                else if(clicks == 3){
                    id=cutCheck(0,1,random=false);
                    if(!id){
                        id=cutCheck(1,0);
                    }
                }
                else if(clicks == 5){
                    id=cutCheck(1,0,random=false);
                    if (!id){
                        id=cutCheck(0,1);
                    }
                }
                else if(clicks == 7){
                    id=cutCheck(1,0,random=false);
                    if (!id){
                        id=cutCheck(0,1);
                    }
                }
                setTimeout(function(){document.getElementById(id).click();},750);
            }
        </script>
    </body>
</html>
